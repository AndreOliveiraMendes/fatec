{% extends "base" %}

{% block title %}Painel de Controle{% endblock %}

{% set secoes = {
    'Cadastro Básico': [
        ('Pessoas', 'gerenciar_pessoas', 'info'),
        ('Usuários', 'gerenciar_usuarios', 'info'),
        ('Permissões', 'gerenciar_permissoes', 'info'),
    ],
    'Configurações': [
        ('Usuários Especiais', 'gerenciar_usuarios_especiais', 'success'),
        ('Aulas', 'gerenciar_aulas', 'success'),
        ('Laboratórios', 'gerenciar_laboratorios', 'success'),
    ],
    'Operacional': [
        ('Reservas Fixas', 'gerenciar_reservas_fixas', 'warning'),
        ('Aulas Ativas', 'gerenciar_aulas_ativas', 'warning'),
    ],
    'Logs / Histórico': [
        ('Histórico', 'gerenciar_Historico', 'danger'),
    ]
} %}

{% block content %}
<div class="container text-center">

    <h2>Painel de Administração</h2>
    <p>Escolha uma seção para gerenciar:</p>

    <!-- Botões principais -->
    <div class="btn-group" role="group" style="margin-bottom: 20px;">
        <a href="{{ url_for('home') }}" class="btn btn-primary">
            <span class="glyphicon glyphicon-home"></span> Página Inicial
        </a>
        <button class="btn btn-warning" type="button" data-toggle="collapse" data-target="#collapseDatabase" aria-expanded="false" aria-controls="collapseDatabase">
            <span class="glyphicon glyphicon-cog"></span> Manipular Banco de Dados
        </button>
    </div>

    <!-- Área colapsável principal -->
    <div class="collapse" id="collapseDatabase">
        <div class="well">

            {% for grupo, itens in secoes.items() %}
                <button class="btn btn-secondary btn-block text-left mb-2" type="button" data-toggle="collapse" data-target="#collapse{{ loop.index }}" aria-expanded="false" aria-controls="collapse{{ loop.index }}">
                    <strong>{{ grupo }}</strong>
                </button>

                <div class="collapse mb-3" id="collapse{{ loop.index }}">
                    {% for secao, url, color in itens %}
                        <a href="{{ url_for(url) }}" class="btn btn-{{ color }} btn-block text-capitalize">
                            <span class="glyphicon glyphicon-chevron-right"></span> {{ secao }}
                        </a>
                    {% endfor %}
                </div>
            {% endfor %}

        </div>
    </div>

</div>
{% endblock %}
