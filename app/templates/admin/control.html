{% extends "base-fixed" %}
{% from "macros/form.html" import action_buttons %}
{% block title %}
    Configuração
{% endblock title %}
{% block content %}
    <form class="form-group"
          action="{{ url_for("admin.configuracao_geral") }}"
          role="form"
          method="post">
        <div class="form-group">
            <label for="modo_gerenciacao">Modo de Visualizacao:</label>
            <select class="form-control"
                    id="modo_gerenciacao"
                    name="modo_gerenciacao"
                    required>
                <option value="">Selecione o Modo</option>
                <option value="unico"
                        {% if config_cfg.get('modo_gerenciacao') == 'unico' %}selected{% endif %}>
                    Reservas Separadas
                </option>
                <option value="multiplo"
                        {% if config_cfg.get('modo_gerenciacao') == 'multiplo' %}selected{% endif %}>
                    Reservas Compativeis Unidas
                </option>
            </select>
        </div>
        <div class="form-group">
            <label for="toleranca">Tolerança em minutos:</label>
            <input class="form-control"
                   id="toleranca"
                   name="toleranca"
                   value="{{ config_cfg.get("toleranca") }}"
                   required>
        </div>
        <div class="form-group">
            <label for="navbar_redirect_target">
                Redirecionamento da barra:
                <span class="glyphicon glyphicon-info-sign text-muted"
                      data-toggle="tooltip"
                      data-placement="right"
                      title="Define para onde o usuário será enviado ao clicar no botão principal da barra."></span>
                <small class="text-muted">Atual: {{ config_cfg.get("navbar_redirect_target") }}</small>
            </label>
            <select class="form-control"
                    id="navbar_redirect_target"
                    name="navbar_redirect_target"
                    required>
                <option value="home"
                        {% if config_cfg.get('navbar_redirect_target') == 'home' %}selected{% endif %}>Home</option>
                <option value="tv"
                        {% if config_cfg.get('navbar_redirect_target') == 'tv' %}selected{% endif %}>
                    Tela televisor
                </option>
            </select>
        </div>
        <div class="form-group">
            <div class="checkbox">
                <label>
                    <input type="checkbox"
                           id="login"
                           name="login"
                           value="1"
                           {% if config_cfg.get('login') %}checked{% endif %}>
                    Mostrar botão de login na home
                </label>
            </div>
        </div>
        <div class="form-group">
            <div class="checkbox">
                <label>
                    <input type="checkbox"
                           id="status_indefinido"
                           name="status_indefinido"
                           value="1"
                           {% if config_cfg.get('status_indefinido') %}checked{% endif %}>
                    "Status indefinido" tratado como "não pegou chave" (sem efeito internamente)
                </label>
            </div>
        </div>
        <div class="form-group">
            <div class="checkbox">
                <label>
                    <input type="checkbox"
                           id="alertar"
                           name="alertar"
                           value="1"
                           {% if config_cfg.get('alertar') %}checked{% endif %}>
                    Alertar se a reservva temporaria pode sobrescrever uma reserva existente
                </label>
            </div>
        </div>
        {{ action_buttons('montar', show_voltar=False, label='') }}
    </form>
{% endblock content %}
{% block extra_script %}
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip();
        });
    </script>
{% endblock extra_script %}
