<!DOCTYPE html>
<html lang="pt-BR">
      <head>
            <meta charset="UTF-8">
            <meta name="description"
                  content="Sistema de Reservas de Laboratório da Fatec.">
            <meta name="viewport"
                  content="width = device-width, initial-scale = 1, maximum-scale = 1">
            <meta name="keywords" content="reservas, laboratório, fatec, sistema">
            <title>
                  {% block title %}
                        Meu Sistema
                  {% endblock title %}
            </title>
            <link rel="icon"
                  type="image/svg+xml"
                  href="{{ url_for('default.favicon_svg') }}">
            <link rel="icon"
                  type="image/png"
                  href="{{ url_for('default.favicon_png') }}">
            <link rel="icon" href="{{ url_for('default.favicon_ico') }}">
            <!-- Bootstrap CSS -->
            <link rel="stylesheet"
                  href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
            <!-- Custom CSS -->
            <link rel="stylesheet"
                  href="{{ url_for('static', filename='css/custom.css') }}">
            <link rel="stylesheet"
                  href="{{ url_for('static', filename='css/utility.css') }}">
            <!-- Optional extra CSS for specific pages -->
            {% block extra_css %}
            {% endblock extra_css %}
            {% block extra_head %}
            {% endblock extra_head %}
      </head>
      <body>
            {% block body %}
                  {% block navigation %}
                        {% macro perm_icon(flag, icon, color, title) %}
                              {% if user and user.perm|has_flag(flag) %}
                                    <i class="glyphicon glyphicon-{{ icon }} hover-icon"
                                       style="--hover-color: {{ color }}"
                                       title="{{ title }}"></i>
                              {% endif %}
                        {% endmacro %}
                        <div class="container-fluid">
                              <div class="navbar-header">
                                    <a class="navbar-brand"
                                       title="ir a pagina inicial"
                                       href="{{ url_for('default.home') }}">
                                          Sistema RLF
                                          {{ perm_icon(FIXA, 'calendar', 'greenyellow', 'Permissão de Reserva Fixa') }}
                                          {{ perm_icon(TEMP, 'time', 'greenyellow', 'Permissão de Reserva Temporária') }}
                                          {{ perm_icon(AUDITORIO, 'bullhorn', 'greenyellow', 'Permissão de Reserva de Auditório') }}
                                          {{ perm_icon(ADMIN, 'fire', 'red', 'Permissão de Administrador') }}
                                          {{ perm_icon(CONFIGURAR_COMANDOS, 'console', 'blue', 'Permissão de Configurar Comandos Remotos') }}
                                    </a>
                              </div>
                              <ul class="nav navbar-nav navbar-right">
                                    <li class="dropdown">
                                          <a href="#"
                                             class="dropdown-toggle"
                                             data-toggle="dropdown"
                                             role="button"
                                             aria-haspopup="true"
                                             aria-expanded="false">
                                                {% if user %}
                                                      <i class="glyphicon glyphicon-user"></i> {{ user.username }} <span class="caret"></span>
                                                {% else %}
                                                      <i class="glyphicon glyphicon-user"></i> visitante <span class="caret"></span>
                                                {% endif %}
                                          </a>
                                          <ul class="dropdown-menu">
                                                {% if user %}
                                                      <li>
                                                            <a href="{{ url_for('auth.logout') }}"><i class="glyphicon glyphicon-log-out"></i> Sair</a>
                                                      </li>
                                                      <li>
                                                            <a href="{{ url_for('usuario.menu_reservas_usuario') }}"
                                                               title="Visualize suas reservas ativas"><i class="glyphicon glyphicon-list"></i> Verificar Reservas</a>
                                                      </li>
                                                      <li>
                                                            <a href="{{ url_for('usuario.perfil') }}"><i class="glyphicon glyphicon-user"></i> Perfil</a>
                                                      </li>
                                                {% else %}
                                                      <li>
                                                            <a href="{{ url_for('auth.login') }}"><i class="glyphicon glyphicon-log-in"></i> Login</a>
                                                      </li>
                                                {% endif %}
                                                <li role="separator" class="divider"></li>
                                                <li>
                                                      <a href="https://www.glyphicons.com/" target="_blank"><i class="glyphicon glyphicon-asterisk"></i> Glyphicons</a>
                                                </li>
                                                <li>
                                                      <a href="https://getbootstrap.com/docs/3.4/" target="_blank"><i class="glyphicon glyphicon-question-sign"></i> Bootstrap 3.4.1</a>
                                                </li>
                                          </ul>
                                    </li>
                              </ul>
                        </div>
                  {% endblock navigation %}
            {% endblock body %}
            <div id="ui-blocker" class="ui-blocker">
                  <div class="ui-blocker-content">
                        <span class="glyphicon glyphicon-refresh glyphicon-spin"></span>
                        <br>
                        Processando...
                  </div>
            </div>
            <!-- JS Scripts -->
            <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
            <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
            {% block extra_script %}
            {% endblock extra_script %}
      </body>
</html>
