{% extends "base-fixed" %}
{% from "macros/form.html" import generate_navigation_database, action_buttons %}
{% block title %}
    Inicialização Rapida - Locais
{% endblock title %}
{% block content %}
    {{ generate_navigation_database(extras = extras) }}
    {% if stage == 0 %}
        <h3>Configuração Rapida de Locais</h3>
        <p>Selecione quantos locais serão adicionados</p>
        <form class="form-group"
              role="form"
              action="{{ url_for('setup_locais.fast_setup_locais') }}"
              method="get">
            <div class="form-group">
                <label for="quantidade">Quantidade de horarios</label>
                <input type="number"
                       id="quantidade"
                       name="quantidade"
                       required
                       min="1"
                       placeholder="Ex: 11">
            </div>
            {{ action_buttons('inserir', 1, False, 0, label='stage') }}
        </form>
    {% elif stage == 1 %}
        <h3>Configuração Rapida de Locais</h3>
        <form class="form-group"
              role="form"
              action="{{ url_for('setup_locais.fast_setup_locais') }}"
              method="post">
            <div class="form-group">
                <label for="prefix">Prefixo comum</label>
                <input type="text" id="prefix" name="prefix" placeholder="Ex: local">
            </div>
            {% for i in range(quantidade) %}
                <div class="form-group row">
                    <div class="col-sm-4">
                        <label for="nome_local_{{ i }}">Nome do Laboratório {{ i+1 }}</label>
                        <input type="text"
                               class="form-control"
                               id="nome_local_{{ i }}"
                               name="nome_local_{{ i }}"
                               required>
                    </div>
                    <div class="col-sm-4">
                        <label for="disponibilidade_{{ i }}">Disponibilidade</label>
                        <select class="form-control"
                                id="disponibilidade_{{ i }}"
                                name="disponibilidade_{{ i }}">
                            <option value="">Selecione uma disponibilidade</option>
                            <option value="Disponivel">Disponível</option>
                            <option value="Indisponivel">Indisponível</option>
                        </select>
                    </div>
                    <div class="col-sm-4">
                        <label for="tipo_{{ i }}">Tipo</label>
                        <select class="form-control" id="tipo_{{ i }}" name="tipo_{{ i }}">
                            <option value="">Selecione um tipo</option>
                            <option value="Laboratório">Laboratório</option>
                            <option value="Sala">Sala</option>
                            <option value="Externo">Externo</option>
                        </select>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-12">
                        <label for="descrição_local_{{ i }}">Descrição do Laboratório {{ i+1 }}</label>
                        <input type="text"
                               class="form-control"
                               id="descrição_local_{{ i }}"
                               name="descrição_local_{{ i }}">
                    </div>
                </div>
            {% endfor %}
            {{ action_buttons('inserir', 2, True, 0, label='stage') }}
        </form>
    {% endif %}
{% endblock content %}
